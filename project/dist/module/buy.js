"use strict";define(function(){function t(){}return t.prototype.init=function(){var c=document.getElementById("quan"),r=document.getElementsByTagName("input"),o=0;c.onclick=function(){if(""==c.checked){for(var e=1;e<r.length;e++)r[e].checked="",r[e].onclick();!1,$(".charge .sum").html("0.0")}else{for(e=1;e<r.length;e++)r[e].checked="checked",r[e].onclick();!0,i()}};for(var e=1;e<r.length;e++)r[e].onclick=function(){for(var e=0,n=0,t=1;t<r.length;t++){if(""!=r[t].checked)o++,r[t].parentNode.parentNode.children[4].children[0].innerHTML=r[t].parentNode.parentNode.children[2].children[0].innerHTML,e+=parseFloat(r[t].parentNode.parentNode.children[4].children[0].innerHTML.slice(1)),$(".charge .sum").html(e+".0");else n++,r[t].parentNode.parentNode.children[4].children[0].innerHTML="￥0.0"}n==r.length-1&&$(".charge .sum").html("0.0"),o==r.length-1?(c.checked="checked",!0,i()):(c.checked="",!1),o=0};$("td").on("click",".sp3:eq(0)",function(){var e=parseInt($(this).next().html()),n=$(this).parent().prev().children().html().slice(1);n=parseFloat(n),--e<=1&&(e=1),$(this).next().html(e),$(this).parent().next().children().html("￥"+e*n+".0"),$(this).parent().parent().children().get(0).children[0].checked&&i(),console.log($(this).parent().parent().children().get(0).children[0].checked)}),$("td").on("click",".sp3:eq(2)",function(){var e=parseInt($(this).prev().html()),n=$(this).parent().prev().children().html().slice(1);n=parseFloat(n),e++,$(this).prev().html(e),$(this).parent().next().children().html("￥"+e*n+".0"),$(this).parent().parent().children().get(0).children[0].checked&&i()});var n=0;function i(){n=0,$.each($(".sp4"),function(){var e=parseFloat($(this).html().slice(1));n+=e}),$(".charge .sum").html(n+".0")}$("td").on("click",".sp5",function(){$(this).parent().parent().remove(),i()}),(new t).car()},t.prototype.car=function(){var n="";if(document.cookie){for(var t=document.cookie.split("; "),e=0;e<t.length;e++){"goods"==(c=t[e].split("="))[0]&&(n=c[1],console.log(n),document.cookie="goods=0; expires="+new Date(0).toUTCString())}!function(){for(var e=0;e<t.length;e++)return"brr"==t[e].split("=")[0]?document.cookie:document.cookie="brr="+n}(),console.log(n);for(e=0;e<t.length;e++){var c;if("brr"==(c=t[e].split("="))[0]){var r=JSON.parse(c[1]);console.log(n)}}console.log(document.cookie),console.log(r)}},new t});