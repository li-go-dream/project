"use strict";define(function(){function c(){}return c.prototype.init=function(){(new c).yzm();var o=/^[1-9]\d{10}$/,l=/^\w{6,}$/,s=[!1,!1,!1,!1],i=!1;$("#sub_zc").submit(function(t){var a=o.test($("#name").val()),e=l.test($("#password").val());if(!a)return alert("请输入11位电话号码"),!1;if(s[0]=!0,!e)return alert("请输入至少6位数字，字母，下划线的密码"),!1;if(s[1]=!0,$("#password").val()!==$("#s-password").val())return alert("两次密码不一致"),!1;if(s[2]=!0,$("#yzm").val().toLocaleUpperCase()!==$("#login_yzm").html().toLocaleUpperCase())return alert("验证码不一致"),!1;s[3]=!0;for(var n=0,r=0;r<s.length;r++)s[r]&&n++,n==s.length&&(i=!0);if(!i)return!1;(new c).ajax(),t.preventDefault()}),$("#change-yzm").on("click",function(){(new c).yzm()})},c.prototype.yzm=function(){for(var t="3qwe012rtyui5opl6kjhgfd78saz49xcvbnm",a="",e=0;e<4;e++){a+=t[Math.floor(Math.random()*t.length)]}$(".login-yzm").html(a)},c.prototype.ajax=function(){var t=$("#name").val(),a=$("#password").val();$.ajax({type:"POST",url:"http://localhost/project_mysql/register.php",data:{name:t,Password:a},dataType:"json",success:function(t){t.code?(alert("注册成功"),window.location.href="http://localhost:2333/html/login.html"):alert("手机号已注册")}})},new c});